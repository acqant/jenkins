#!/bin/sh

#
# This file was generated by Chef for <%= node['fqdn'] %>.
# Do NOT modify this file by hand.
#


exec 2>&1
cd <%= node['jenkins']['master']['home'] %>
touch jenkins.start
exec chpst -u <%= node['jenkins']['master']['user'] %> -U <%= node['jenkins']['master']['user'] %> \
  env HOME=<%= node['jenkins']['master']['home'] %> \
  JENKINS_HOME=<%= node['jenkins']['master']['home'] %> \
  <%= node['jenkins']['java'] %> <%= node['jenkins']['master']['jvm_options'] %> -jar jenkins.war \
  --httpPort=<%= node['jenkins']['master']['port'] %> \
  --httpListenAddress=<%= node['jenkins']['master']['listen_address'] %> \
<% if node['jenkins']['master']['https_port'] && node['jenkins']['master']['pem_file'] && node['jenkins']['master']['key_file'] %>
  --httpsCertificate=<% node['jenkins']['master']['pem_file'] %> --httpsPrivateKey=<% node['jenkins']['master']['key_file'] %>  --httpsPort=<% node['jenkins']['master']['https_port'] %> \
<% end %>
  <%= node['jenkins']['master']['jenkins_args'] %>

